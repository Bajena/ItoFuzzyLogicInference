<?xml version="1.0" encoding="utf-8" ?>
<FuzzyInference>
  <LinguisticVariables>
    <!--Decision types-->
    <LinguisticVariable id="h1" display_name="Wielkość kredytu" display_unit="PLN">
      <MembershipFunction id="h1_100k" display_name="Do 100.000" x1="0" x2="100000" x3="100000" x4="100000"/>
      <MembershipFunction id="h1_200k" display_name="Do 200.000" x1="100000" x2="200000" x3="200000" x4="200000"/>
      <MembershipFunction id="h1_400k" display_name="Do 400.000" x1="200000" x2="400000" x3="400000" x4="400000" ignore_x4="true"/>
    </LinguisticVariable>
    
    <LinguisticVariable id="h2" display_name="Rata spłaty" display_unit="PLN">
      <MembershipFunction id="h2_2k" display_name="2.000" x1="0" x2="2000" x3="2000" x4="2000"/>
      <MembershipFunction id="h2_4k" display_name="4.000" x1="2000" x2="4000" x3="4000" x4="4000"/>
      <MembershipFunction id="h2_6k" display_name="6.000" x1="4000" x2="6000" x3="6000" x4="6000" ignore_x4="true"/>
    </LinguisticVariable>
    
    <LinguisticVariable id="h3" display_name="Czas spłaty" display_unit="lata">
      <MembershipFunction id="h3_10" display_name="10 lat" x1="0" x2="10" x3="10" x4="10"/>
      <MembershipFunction id="h3_20" display_name="20 lat" x1="10" x2="20" x3="20" x4="20"/>
      <MembershipFunction id="h3_30" display_name="30 lat" x1="20" x2="30" x3="30" x4="30"/>
    </LinguisticVariable>
    
    <!--Criteria-->
    <LinguisticVariable id="c1" display_name="Średnie miesięczne wpływy w ostatnim półroczu" display_unit="PLN">
      <MembershipFunction id="c1_vsmall" display_name="Bardzo niskie" x1="0" x2="0" x3="1000" x4="1500"/>
      <MembershipFunction id="c1_small" display_name="Niskie" x1="0" x2="1500" x3="2500" x4="3500"/>
      <MembershipFunction id="c1_average" display_name="Przeciętne" x1="3000" x2="5000" x3="5000" x4="8000"/>
      <MembershipFunction id="c1_high" display_name="Wysokie" x1="6000" x2="8000" x3="10000" x4="15000"/>
      <MembershipFunction id="c1_vhigh" display_name="Bardzo wysokie" x1="15000" x2="20000" x3="50000" x4="50000" ignore_x4="true"/>
    </LinguisticVariable>
    
    <LinguisticVariable id="c2" display_name="Suma zarobków klienta i współmałżonka" display_unit="PLN">
      <MembershipFunction id="c2_vsmall" display_name="Bardzo niskie" x1="0" x2="0" x3="2000" x4="3000"/>
      <MembershipFunction id="c2_small" display_name="Niskie" x1="0" x2="3000" x3="5000" x4="7000"/>
      <MembershipFunction id="c2_average" display_name="Przeciętne" x1="6000" x2="10000" x3="10000" x4="16000"/>
      <MembershipFunction id="c2_high" display_name="Wysokie" x1="12000" x2="16000" x3="16000" x4="30000"/>
      <MembershipFunction id="c2_vhigh" display_name="Bardzo wysokie" x1="30000" x2="40000" x3="100000" x4="100000"/>
    </LinguisticVariable>

    <LinguisticVariable id="c3" display_name="Liczba osob na utrzymaniu" display_unit="osoby">
      <MembershipFunction id="c3_0" display_name="0" x1="0" x2="0" x3="0" x4="0"/>
      <MembershipFunction id="c3_1_2" display_name="1-2" x1="1" x2="1" x3="2" x4="2"/>
      <MembershipFunction id="c3_g2" display_name=">2" x1="3" x2="3" x3="10" x4="10" ignore_x4="true"/>
    </LinguisticVariable>
    
    <LinguisticVariable id="c4" display_name="Wiek" display_unit="lata">
      <MembershipFunction id="c4_young" display_name="Młody" x1="0" x2="25" x3="25" x4="25"  ignore_x4="true" inverse_trapezoid="true"/>
      <MembershipFunction id="c4_middle" display_name="Średni" x1="20" x2="40" x3="40" x4="60"/>
      <MembershipFunction id="c4_old" display_name="Stary" x1="40" x2="80" x3="80" x4="80" ignore_x4="true"/>
    </LinguisticVariable>
  </LinguisticVariables>
  <FuzzyRules>
    <!--Wielkość kredytu-->
    <FuzzyRule>
      <Premise operator="or">
        <Condition linguistic_variable_id="c1" membership_function_id="c1_average"/>
        <Condition linguistic_variable_id="c2" membership_function_id="c2_high"/>
      </Premise>
      <Conclusion linguistic_variable_id="h1" membership_function_id="h1_200k"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c4" membership_function_id="c4_young"/>
        <Condition linguistic_variable_id="c1" membership_function_id="c1_high"/>
      </Premise>
      <Conclusion linguistic_variable_id="h1" membership_function_id="h1_400k"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c4" membership_function_id="c4_young"/>
        <Condition linguistic_variable_id="c1" membership_function_id="c1_high" negated="true"/>
      </Premise>
      <Conclusion linguistic_variable_id="h1" membership_function_id="h1_100k"/>
    </FuzzyRule>
    
    <!--Rata spłaty-->
    <FuzzyRule>
      <Premise operator="or">
        <Condition linguistic_variable_id="c4" membership_function_id="c4_old"/>
        <Condition linguistic_variable_id="c3" membership_function_id="c3_g2"/>
      </Premise>
      <Conclusion linguistic_variable_id="h2" membership_function_id="h2_2k"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise operator="and">
        <Condition linguistic_variable_id="c4" membership_function_id="c4_middle"/>
        <Condition linguistic_variable_id="c3" membership_function_id="c3_g2" negated="true"/>
      </Premise>
      <Conclusion linguistic_variable_id="h2" membership_function_id="h2_4k"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c1" membership_function_id="c1_average"/>
      </Premise>
      <Conclusion linguistic_variable_id="h2" membership_function_id="h2_4k"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c1" membership_function_id="c1_vsmall"/>
        <Condition linguistic_variable_id="c3" membership_function_id="c3_0"/>
      </Premise>
      <Conclusion linguistic_variable_id="h2" membership_function_id="h2_2k"/>
    </FuzzyRule>
    
    <!-- Czas spłaty -->
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c4" membership_function_id="c4_old" negated="true"/>
      </Premise>
      <Conclusion linguistic_variable_id="h3" membership_function_id="h3_30"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c1" membership_function_id="c1_high"/>
        <Condition linguistic_variable_id="c3" membership_function_id="c3_0"/>
      </Premise>
      <Conclusion linguistic_variable_id="h3" membership_function_id="h3_10"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c1" membership_function_id="c1_high"/>
        <Condition linguistic_variable_id="c3" membership_function_id="c3_0" negated="true"/>
      </Premise>
      <Conclusion linguistic_variable_id="h3" membership_function_id="h3_20"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c1" membership_function_id="c1_average"/>
      </Premise>
      <Conclusion linguistic_variable_id="h3" membership_function_id="h3_20"/>
    </FuzzyRule>
    <FuzzyRule>
      <Premise>
        <Condition linguistic_variable_id="c2" membership_function_id="c2_vsmall"/>
      </Premise>
      <Conclusion linguistic_variable_id="h3" membership_function_id="h3_30"/>
    </FuzzyRule>
  </FuzzyRules>
</FuzzyInference>